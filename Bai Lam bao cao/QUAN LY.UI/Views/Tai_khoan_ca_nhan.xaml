<UserControl x:Class="QUAN_LY.UI.Views.Tai_khoan_ca_nhan"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:QUAN_LY.UI.Views"
             mc:Ignorable="d" d:DesignWidth="800" Height="540">
    <Grid x:Name="mainGrid" Background="White" Margin="10">

        <!-- ========== Layout chính ========== -->
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <!-- Phần trên -->
            <Border BorderBrush="#1C82AD" BorderThickness="2" CornerRadius="6" Margin="5" Padding="3">
                <StackPanel Orientation="Horizontal" VerticalAlignment="Center" HorizontalAlignment="Left">
                    <Grid Width="60" Height="60" Margin="6">
                        <Image x:Name="imgAvatar"
                               Source="/Anh/avatarzoro.jpg"
                               Stretch="UniformToFill"
                               Width="60" Height="60"
                               ClipToBounds="True"
                               MouseLeftButtonUp="imgAvatar_MouseLeftButtonUp" VerticalAlignment="Top" Panel.ZIndex="4">

                            <Image.Clip>
                                <EllipseGeometry Center="30,30" RadiusX="30" RadiusY="30"/>
                            </Image.Clip>

                        </Image>
                        <Ellipse Fill="Transparent" Stroke="#00BCD5" StrokeThickness="2"/>
                    </Grid>

                    <StackPanel VerticalAlignment="Center" Margin="8,0,0,0">
                        <TextBlock Text="Xin chào," FontSize="13" FontWeight="SemiBold" Foreground="#444"/>
                        <TextBlock x:Name="txtTenTaiKhoan"
                                   Text="Nguyễn Văn A"
                                   FontSize="16"
                                   FontWeight="Bold"
                                   Foreground="#00BCD5"/>
                    </StackPanel>
                </StackPanel>
            </Border>

            <!-- Phần thông tin -->
            <Border Grid.Row="1" BorderBrush="#1C82AD" BorderThickness="2" CornerRadius="6" Margin="5" Padding="15">
                <StackPanel Margin="0,-5,0,-5">
                    <TextBlock Text="HỒ SƠ CỦA TÔI"
                               FontSize="15"
                               FontWeight="Bold"
                               Foreground="#00BCD5"
                               Margin="0,5,0,10"
                               HorizontalAlignment="Center"/>

                    <Grid Margin="10,0,10,0">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>

                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="100"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>

                        <TextBlock Text="Họ và tên:" FontWeight="Bold" Grid.Row="0" Grid.Column="0" Margin="4"/>
                        <TextBox x:Name="txtHoTen" Grid.Row="0" Grid.Column="1" Margin="4" IsReadOnly="True"/>

                        <TextBlock Text="Số điện thoại:" FontWeight="Bold" Grid.Row="1" Grid.Column="0" Margin="4"/>
                        <TextBox x:Name="txtSDT" Grid.Row="1" Grid.Column="1" Margin="4" IsReadOnly="True"/>

                        <TextBlock Text="Email:" FontWeight="Bold" Grid.Row="2" Grid.Column="0" Margin="4"/>
                        <TextBox x:Name="txtEmail" Grid.Row="2" Grid.Column="1" Margin="4" IsReadOnly="True"/>

                        <TextBlock Text="Địa chỉ:" FontWeight="Bold" Grid.Row="3" Grid.Column="0" Margin="4"/>
                        <TextBox x:Name="txtDiaChi" Grid.Row="3" Grid.Column="1" Margin="4" IsReadOnly="True"/>

                        <TextBlock Text="Giới tính:" FontWeight="Bold" Grid.Row="4" Grid.Column="0" Margin="4"/>
                        <TextBox x:Name="txtGioiTinh" Grid.Row="4" Grid.Column="1" Margin="4" IsReadOnly="True"/>

                        <TextBlock Text="Ngày sinh:" FontWeight="Bold" Grid.Row="5" Grid.Column="0" Margin="4"/>
                        <TextBox x:Name="txtNgaySinh" Grid.Row="5" Grid.Column="1" Margin="4" IsReadOnly="True"/>
                    </Grid>

                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,10,0,0">
                        <Button x:Name="btnDoiMatKhau"
                                Content="Đổi mật khẩu"
                                Width="130" Height="30"
                                Margin="10,0"
                                Background="#4CAF50"
                                Foreground="White"
                                FontWeight="Bold"
                                BorderBrush="#388E3C"
                                Click="btnDoiMatKhau_Click"/>

                        <Button x:Name="btnCapNhat"
                                Content="Cập nhật thông tin"
                                Width="150" Height="30"
                                Margin="10,0"
                                Background="#0288D1"
                                Foreground="White"
                                FontWeight="Bold"
                                BorderBrush="#01579B"
                                Click="btnCapNhat_Click"/>
                    </StackPanel>
                </StackPanel>
            </Border>
        </Grid>

        <!-- ========== POPUP ĐỔI MẬT KHẨU ========== -->
        <Grid x:Name="popupDoiMK" Visibility="Collapsed">
            <Rectangle Fill="#66000000" HorizontalAlignment="Stretch" VerticalAlignment="Stretch"/>

            <Border Width="300" Height="Auto"
                    CornerRadius="8"
                    Background="White"
                    BorderBrush="#1C82AD"
                    BorderThickness="3"
                    Padding="10"
                    HorizontalAlignment="Center"
                    VerticalAlignment="Center">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>

                    <TextBlock Text="ĐỔI MẬT KHẨU" 
                               FontSize="16" 
                               FontWeight="Bold" 
                               Foreground="#00BCD5"
                               HorizontalAlignment="Center"
                               Margin="0,0,0,10"/>

                    <TextBlock FontWeight="Bold" Text="Mật khẩu cũ:" Grid.Row="1" Margin="4"/>
                    <PasswordBox x:Name="pwbMKCu" Grid.Row="1" Margin="100,4,4,4"/>
                    <TextBox Visibility="Collapsed" x:Name="txtMKCu" Grid.Row="1" Margin="100,4,4,4"/>


                    <TextBlock Text="Mật khẩu mới:" FontWeight="Bold" Grid.Row="2" Margin="4"/>
                    <PasswordBox x:Name="pwbMKMoi" Grid.Row="2" Margin="100,4,4,4"/>
                    <TextBox Visibility="Collapsed" x:Name="txtMKMoi" Grid.Row="2" Margin="100,4,4,4"/>

                    <TextBlock Text="Nhập lại MK:" FontWeight="Bold" Grid.Row="3" Margin="4"/>
                    <PasswordBox x:Name="pwbNhapLai" Grid.Row="3" Margin="100,4,4,4"/>
                    <TextBox Visibility="Collapsed" x:Name="txtNhapLai" Grid.Row="3" Margin="100,4,4,4"/>
                    <CheckBox x:Name="chkHienMK" Content="Hiện mật khẩu" Grid.Row="4" Margin="170,4,4,4" Checked="chkHienMK_Checked" Unchecked="chkHienMK_Unchecked"/>

                    <StackPanel Grid.Row="5" Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,10,0,0">
                        <Button Content="Đồng ý" FontWeight="Bold" Width="80" Margin="5" Background="#4CAF50" Foreground="White" Click="btnDongY_Click" Height="25"/>
                        <Button Content="Bỏ qua" FontWeight="Bold" Width="80" Margin="5" Background="#E57373" Foreground="White" Click="btnBoQuaDoiMK_Click"/>
                    </StackPanel>
                </Grid>
            </Border>
        </Grid>

        <!-- ========== POPUP CẬP NHẬT THÔNG TIN ========== -->
        <Grid x:Name="popupCapNhat" Visibility="Collapsed">
            <Rectangle Fill="#66000000" HorizontalAlignment="Stretch" VerticalAlignment="Stretch"/>

            <Border Width="400" Height="Auto"
                    Background="White"
                    CornerRadius="8"
                    BorderBrush="#1C82AD"
                    BorderThickness="2"
                    Padding="15"
                    HorizontalAlignment="Center"
                    VerticalAlignment="Center">

                <StackPanel>
                    <TextBlock Text="CẬP NHẬT THÔNG TIN CÁ NHÂN"
                               FontSize="16"
                               FontWeight="Bold"
                               Foreground="#00BCD5"
                               HorizontalAlignment="Center"
                               Margin="0,0,0,10"/>

                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="130"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>

                        <TextBlock Text="Họ và tên:" FontWeight="Bold" Grid.Row="0" Grid.Column="0" Margin="4"/>
                        <TextBox x:Name="txtCNHoTen" Grid.Row="0" Grid.Column="1" Margin="4"/>

                        <TextBlock Text="Số điện thoại:" FontWeight="Bold" Grid.Row="1" Grid.Column="0" Margin="4"/>
                        <TextBox x:Name="txtCNSDT" Grid.Row="1" Grid.Column="1" Margin="4"/>

                        <TextBlock Text="Email:" FontWeight="Bold" Grid.Row="2" Grid.Column="0" Margin="4"/>
                        <TextBox x:Name="txtCNEmail" Grid.Row="2" Grid.Column="1" Margin="4"/>

                        <TextBlock Text="Địa chỉ:" FontWeight="Bold" Grid.Row="3" Grid.Column="0" Margin="4"/>
                        <TextBox x:Name="txtCNDiaChi" Grid.Row="3" Grid.Column="1" Margin="4"/>

                        <TextBlock Text="Giới tính:" FontWeight="Bold" Grid.Row="4" Grid.Column="0" Margin="4"/>
                        <ComboBox x:Name="cbCNGioiTinh" Grid.Row="4" Grid.Column="1" Margin="4">
                            <ComboBoxItem Content="Nam"/>
                            <ComboBoxItem Content="Nữ"/>
                        </ComboBox>

                        <TextBlock Text="Ngày sinh:" FontWeight="Bold" Grid.Row="5" Grid.Column="0" Margin="4"/>
                        <DatePicker x:Name="dpCNNgaySinh" Grid.Row="5" Grid.Column="1" Margin="4"/>
                    </Grid>

                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,15,0,0">
                        <Button Content="Lưu thay đổi" FontWeight="Bold" Width="110" Margin="10,0" Background="#4CAF50" Foreground="White" Click="btnLuuCapNhat_Click" Height="25"/>
                        <Button Content="Hủy" Width="80" FontWeight="Bold" Margin="10,0" Background="#E57373" Foreground="White" Click="btnHuyCapNhat_Click"/>
                    </StackPanel>
                </StackPanel>
            </Border>
        </Grid>
    </Grid>
</UserControl>
